var Sn=Object.defineProperty;var Ia=t=>{throw TypeError(t)};var xn=(t,e,a)=>e in t?Sn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var nt=(t,e,a)=>xn(t,typeof e!="symbol"?e+"":e,a),kn=(t,e,a)=>e.has(t)||Ia("Cannot "+a);var S=(t,e,a)=>(kn(t,e,"read from private field"),a?a.call(t):e.get(t)),W=(t,e,a)=>e.has(t)?Ia("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,a);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function a(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=a(r);fetch(r.href,s)}})();const Oa=!1;var aa=Array.isArray,Dn=Array.prototype.indexOf,_a=Array.from,Tn=Object.defineProperty,st=Object.getOwnPropertyDescriptor,qa=Object.getOwnPropertyDescriptors,En=Object.prototype,Cn=Array.prototype,ma=Object.getPrototypeOf,Pa=Object.isExtensible;function In(t){return t()}function fa(t){for(var e=0;e<t.length;e++)t[e]()}const we=2,za=4,na=8,ga=16,Re=32,Ze=64,ya=128,pe=256,zt=512,be=1024,We=2048,Ge=4096,Le=8192,wa=16384,Ya=32768,ba=65536,On=1<<17,Pn=1<<19,Ja=1<<20,da=1<<21,Ve=Symbol("$state"),An=Symbol("");function Ha(t){return t===this.v}function Nn(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Va(t){return!Nn(t,this.v)}function $n(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Mn(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ln(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Wn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Rn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Fn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Un(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let Ft=!1,Bn=!1;function jn(){Ft=!0}const Sa=1,xa=2,Ka=4,qn=8,zn=16,Yn=1,Jn=2,le=Symbol(),Hn="http://www.w3.org/1999/xhtml";function Vn(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let z=null;function Aa(t){z=t}function he(t,e=!1,a){var n=z={p:z,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};Ft&&!e&&(z.l={s:null,u:null,r1:[],r2:ot(!1)}),nr(()=>{n.d=!0})}function _e(t){const e=z;if(e!==null){const o=e.e;if(o!==null){var a=R,n=M;e.e=null;try{for(var r=0;r<o.length;r++){var s=o[r];Ye(s.effect),Pe(s.reaction),ia(s.fn)}}finally{Ye(a),Pe(n)}}z=e.p,e.m=!0}return{}}function Ut(){return!Ft||z!==null&&z.l===null}function V(t){if(typeof t!="object"||t===null||Ve in t)return t;const e=ma(t);if(e!==En&&e!==Cn)return t;var a=new Map,n=aa(t),r=E(0),s=M,o=u=>{var l=M;Pe(s);var f=u();return Pe(l),f};return n&&a.set("length",E(t.length)),new Proxy(t,{defineProperty(u,l,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Rn();var c=a.get(l);return c===void 0?c=o(()=>{var d=E(f.value);return a.set(l,d),d}):b(c,f.value,!0),!0},deleteProperty(u,l){var f=a.get(l);if(f===void 0){if(l in u){const v=o(()=>E(le));a.set(l,v),oa(r)}}else{if(n&&typeof l=="string"){var c=a.get("length"),d=Number(l);Number.isInteger(d)&&d<c.v&&b(c,d)}b(f,le),oa(r)}return!0},get(u,l,f){var _;if(l===Ve)return t;var c=a.get(l),d=l in u;if(c===void 0&&(!d||(_=st(u,l))!=null&&_.writable)&&(c=o(()=>{var g=V(d?u[l]:le),x=E(g);return x}),a.set(l,c)),c!==void 0){var v=i(c);return v===le?void 0:v}return Reflect.get(u,l,f)},getOwnPropertyDescriptor(u,l){var f=Reflect.getOwnPropertyDescriptor(u,l);if(f&&"value"in f){var c=a.get(l);c&&(f.value=i(c))}else if(f===void 0){var d=a.get(l),v=d==null?void 0:d.v;if(d!==void 0&&v!==le)return{enumerable:!0,configurable:!0,value:v,writable:!0}}return f},has(u,l){var v;if(l===Ve)return!0;var f=a.get(l),c=f!==void 0&&f.v!==le||Reflect.has(u,l);if(f!==void 0||R!==null&&(!c||(v=st(u,l))!=null&&v.writable)){f===void 0&&(f=o(()=>{var _=c?V(u[l]):le,g=E(_);return g}),a.set(l,f));var d=i(f);if(d===le)return!1}return c},set(u,l,f,c){var A;var d=a.get(l),v=l in u;if(n&&l==="length")for(var _=f;_<d.v;_+=1){var g=a.get(_+"");g!==void 0?b(g,le):_ in u&&(g=o(()=>E(le)),a.set(_+"",g))}if(d===void 0)(!v||(A=st(u,l))!=null&&A.writable)&&(d=o(()=>E(void 0)),b(d,V(f)),a.set(l,d));else{v=d.v!==le;var x=o(()=>V(f));b(d,x)}var w=Reflect.getOwnPropertyDescriptor(u,l);if(w!=null&&w.set&&w.set.call(c,f),!v){if(n&&typeof l=="string"){var k=a.get("length"),P=Number(l);Number.isInteger(P)&&P>=k.v&&b(k,P+1)}oa(r)}return!0},ownKeys(u){i(r);var l=Reflect.ownKeys(u).filter(d=>{var v=a.get(d);return v===void 0||v.v!==le});for(var[f,c]of a)c.v!==le&&!(f in u)&&l.push(f);return l},setPrototypeOf(){Fn()}})}function oa(t,e=1){b(t,t.v+e)}function Na(t){try{if(t!==null&&typeof t=="object"&&Ve in t)return t[Ve]}catch{}return t}function Kn(t,e){return Object.is(Na(t),Na(e))}function ka(t){var e=we|We,a=M!==null&&(M.f&we)!==0?M:null;return R===null||a!==null&&(a.f&pe)!==0?e|=pe:R.f|=Ja,{ctx:z,deps:null,effects:null,equals:Ha,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:a??R}}function Me(t){const e=ka(t);return e.equals=Va,e}function Ga(t){var e=t.effects;if(e!==null){t.effects=null;for(var a=0;a<e.length;a+=1)ze(e[a])}}function Gn(t){for(var e=t.parent;e!==null;){if((e.f&we)===0)return e;e=e.parent}return null}function Qa(t){var e,a=R;Ye(Gn(t));try{Ga(t),e=hn(t)}finally{Ye(a)}return e}function Xa(t){var e=Qa(t);if(t.equals(e)||(t.v=e,t.wv=vn()),!tt){var a=(Be||(t.f&pe)!==0)&&t.deps!==null?Ge:be;Ae(t,a)}}const lt=new Map;function ot(t,e){var a={f:0,v:t,reactions:null,equals:Ha,rv:0,wv:0};return a}function E(t,e){const a=ot(t);return fr(a),a}function Qn(t,e=!1,a=!0){var r;const n=ot(t);return e||(n.equals=Va),Ft&&a&&z!==null&&z.l!==null&&((r=z.l).s??(r.s=[])).push(n),n}function b(t,e,a=!1){M!==null&&!Ie&&Ut()&&(M.f&(we|ga))!==0&&!(X!=null&&X[1].includes(t)&&X[0]===M)&&Un();let n=a?V(e):e;return ut(t,n)}function ut(t,e){if(!t.equals(e)){var a=t.v;tt?lt.set(t,e):lt.set(t,a),t.v=e,(t.f&we)!==0&&((t.f&We)!==0&&Qa(t),Ae(t,(t.f&pe)===0?be:Ge)),t.wv=vn(),Za(t,We),Ut()&&R!==null&&(R.f&be)!==0&&(R.f&(Re|Ze))===0&&(ye===null?dr([t]):ye.push(t))}return e}function Za(t,e){var a=t.reactions;if(a!==null)for(var n=Ut(),r=a.length,s=0;s<r;s++){var o=a[s],u=o.f;(u&We)===0&&(!n&&o===R||(Ae(o,e),(u&(be|pe))!==0&&((u&we)!==0?Za(o,Ge):Ca(o))))}}function Xn(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let Zn=!1;var $a,en,tn,an;function er(){if($a===void 0){$a=window,en=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,a=Text.prototype;tn=st(e,"firstChild").get,an=st(e,"nextSibling").get,Pa(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Pa(a)&&(a.__t=void 0)}}function ra(t=""){return document.createTextNode(t)}function Yt(t){return tn.call(t)}function sa(t){return an.call(t)}function h(t,e){return Yt(t)}function Oe(t,e){{var a=Yt(t);return a instanceof Comment&&a.data===""?sa(a):a}}function m(t,e=1,a=!1){let n=t;for(;e--;)n=sa(n);return n}function tr(t){t.textContent=""}function nn(t){R===null&&M===null&&Ln(),M!==null&&(M.f&pe)!==0&&R===null&&Mn(),tt&&$n()}function ar(t,e){var a=e.last;a===null?e.last=e.first=t:(a.next=t,t.prev=a,e.last=t)}function et(t,e,a,n=!0){var r=R,s={ctx:z,deps:null,nodes_start:null,nodes_end:null,f:t|We,first:null,fn:e,last:null,next:null,parent:r,prev:null,teardown:null,transitions:null,wv:0};if(a)try{Ea(s),s.f|=Ya}catch(l){throw ze(s),l}else e!==null&&Ca(s);var o=a&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(Ja|ya))===0;if(!o&&n&&(r!==null&&ar(s,r),M!==null&&(M.f&we)!==0)){var u=M;(u.effects??(u.effects=[])).push(s)}return s}function nr(t){const e=et(na,null,!1);return Ae(e,be),e.teardown=t,e}function Jt(t){nn();var e=R!==null&&(R.f&Re)!==0&&z!==null&&!z.m;if(e){var a=z;(a.e??(a.e=[])).push({fn:t,effect:R,reaction:M})}else{var n=ia(t);return n}}function rr(t){return nn(),rn(t)}function sr(t){const e=et(Ze,t,!0);return(a={})=>new Promise(n=>{a.outro?Ht(e,()=>{ze(e),n(void 0)}):(ze(e),n(void 0))})}function ia(t){return et(za,t,!1)}function rn(t){return et(na,t,!0)}function L(t,e=[],a=ka){const n=e.map(a);return Da(()=>t(...n.map(i)))}function Da(t,e=0){return et(na|ga|e,t,!0)}function ct(t,e=!0){return et(na|Re,t,!0,e)}function sn(t){var e=t.teardown;if(e!==null){const a=tt,n=M;Ma(!0),Pe(null);try{e.call(null)}finally{Ma(a),Pe(n)}}}function ln(t,e=!1){var a=t.first;for(t.first=t.last=null;a!==null;){var n=a.next;(a.f&Ze)!==0?a.parent=null:ze(a,e),a=n}}function ir(t){for(var e=t.first;e!==null;){var a=e.next;(e.f&Re)===0&&ze(e),e=a}}function ze(t,e=!0){var a=!1;(e||(t.f&Pn)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(lr(t.nodes_start,t.nodes_end),a=!0),ln(t,e&&!a),Xt(t,0),Ae(t,wa);var n=t.transitions;if(n!==null)for(const s of n)s.stop();sn(t);var r=t.parent;r!==null&&r.first!==null&&on(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function lr(t,e){for(;t!==null;){var a=t===e?null:sa(t);t.remove(),t=a}}function on(t){var e=t.parent,a=t.prev,n=t.next;a!==null&&(a.next=n),n!==null&&(n.prev=a),e!==null&&(e.first===t&&(e.first=n),e.last===t&&(e.last=a))}function Ht(t,e){var a=[];Ta(t,a,!0),un(a,()=>{ze(t),e&&e()})}function un(t,e){var a=t.length;if(a>0){var n=()=>--a||e();for(var r of t)r.out(n)}else e()}function Ta(t,e,a){if((t.f&Le)===0){if(t.f^=Le,t.transitions!==null)for(const o of t.transitions)(o.is_global||a)&&e.push(o);for(var n=t.first;n!==null;){var r=n.next,s=(n.f&ba)!==0||(n.f&Re)!==0;Ta(n,e,s?a:!1),n=r}}}function Vt(t){cn(t,!0)}function cn(t,e){if((t.f&Le)!==0){t.f^=Le;for(var a=t.first;a!==null;){var n=a.next,r=(a.f&ba)!==0||(a.f&Re)!==0;cn(a,r?e:!1),a=n}if(t.transitions!==null)for(const s of t.transitions)(s.is_global||e)&&s.in()}}let Kt=[];function or(){var t=Kt;Kt=[],fa(t)}function ur(t){Kt.length===0&&queueMicrotask(or),Kt.push(t)}function cr(t){var e=R;if((e.f&Ya)===0){if((e.f&ya)===0)throw t;e.fn(t)}else fn(t,e)}function fn(t,e){for(;e!==null;){if((e.f&ya)!==0)try{e.fn(t);return}catch{}e=e.parent}throw t}let va=!1,Gt=null,Ke=!1,tt=!1;function Ma(t){tt=t}let qt=[];let M=null,Ie=!1;function Pe(t){M=t}let R=null;function Ye(t){R=t}let X=null;function fr(t){M!==null&&M.f&da&&(X===null?X=[M,[t]]:X[1].push(t))}let ne=null,ve=0,ye=null;function dr(t){ye=t}let dn=1,Qt=0,Be=!1,He=null;function vn(){return++dn}function la(t){var d;var e=t.f;if((e&We)!==0)return!0;if((e&Ge)!==0){var a=t.deps,n=(e&pe)!==0;if(a!==null){var r,s,o=(e&zt)!==0,u=n&&R!==null&&!Be,l=a.length;if(o||u){var f=t,c=f.parent;for(r=0;r<l;r++)s=a[r],(o||!((d=s==null?void 0:s.reactions)!=null&&d.includes(f)))&&(s.reactions??(s.reactions=[])).push(f);o&&(f.f^=zt),u&&c!==null&&(c.f&pe)===0&&(f.f^=pe)}for(r=0;r<l;r++)if(s=a[r],la(s)&&Xa(s),s.wv>t.wv)return!0}(!n||R!==null&&!Be)&&Ae(t,be)}return!1}function pn(t,e,a=!0){var n=t.reactions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];X!=null&&X[1].includes(t)&&X[0]===M||((s.f&we)!==0?pn(s,e,!1):e===s&&(a?Ae(s,We):(s.f&be)!==0&&Ae(s,Ge),Ca(s)))}}function hn(t){var _;var e=ne,a=ve,n=ye,r=M,s=Be,o=X,u=z,l=Ie,f=t.f;ne=null,ve=0,ye=null,Be=(f&pe)!==0&&(Ie||!Ke||M===null),M=(f&(Re|Ze))===0?t:null,X=null,Aa(t.ctx),Ie=!1,Qt++,t.f|=da;try{var c=(0,t.fn)(),d=t.deps;if(ne!==null){var v;if(Xt(t,ve),d!==null&&ve>0)for(d.length=ve+ne.length,v=0;v<ne.length;v++)d[ve+v]=ne[v];else t.deps=d=ne;if(!Be)for(v=ve;v<d.length;v++)((_=d[v]).reactions??(_.reactions=[])).push(t)}else d!==null&&ve<d.length&&(Xt(t,ve),d.length=ve);if(Ut()&&ye!==null&&!Ie&&d!==null&&(t.f&(we|Ge|We))===0)for(v=0;v<ye.length;v++)pn(ye[v],t);return r!==null&&r!==t&&(Qt++,ye!==null&&(n===null?n=ye:n.push(...ye))),c}catch(g){cr(g)}finally{ne=e,ve=a,ye=n,M=r,Be=s,X=o,Aa(u),Ie=l,t.f^=da}}function vr(t,e){let a=e.reactions;if(a!==null){var n=Dn.call(a,t);if(n!==-1){var r=a.length-1;r===0?a=e.reactions=null:(a[n]=a[r],a.pop())}}a===null&&(e.f&we)!==0&&(ne===null||!ne.includes(e))&&(Ae(e,Ge),(e.f&(pe|zt))===0&&(e.f^=zt),Ga(e),Xt(e,0))}function Xt(t,e){var a=t.deps;if(a!==null)for(var n=e;n<a.length;n++)vr(t,a[n])}function Ea(t){var e=t.f;if((e&wa)===0){Ae(t,be);var a=R,n=Ke;R=t,Ke=!0;try{(e&ga)!==0?ir(t):ln(t),sn(t);var r=hn(t);t.teardown=typeof r=="function"?r:null,t.wv=dn;var s;Oa&&Bn&&(t.f&We)!==0&&t.deps}finally{Ke=n,R=a}}}function pr(){try{Wn()}catch(t){if(Gt!==null)fn(t,Gt);else throw t}}function hr(){var t=Ke;try{var e=0;for(Ke=!0;qt.length>0;){e++>1e3&&pr();var a=qt,n=a.length;qt=[];for(var r=0;r<n;r++){var s=mr(a[r]);_r(s)}lt.clear()}}finally{va=!1,Ke=t,Gt=null}}function _r(t){var e=t.length;if(e!==0)for(var a=0;a<e;a++){var n=t[a];(n.f&(wa|Le))===0&&la(n)&&(Ea(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?on(n):n.fn=null))}}function Ca(t){va||(va=!0,queueMicrotask(hr));for(var e=Gt=t;e.parent!==null;){e=e.parent;var a=e.f;if((a&(Ze|Re))!==0){if((a&be)===0)return;e.f^=be}}qt.push(e)}function mr(t){for(var e=[],a=t;a!==null;){var n=a.f,r=(n&(Re|Ze))!==0,s=r&&(n&be)!==0;if(!s&&(n&Le)===0){(n&za)!==0?e.push(a):r?a.f^=be:la(a)&&Ea(a);var o=a.first;if(o!==null){a=o;continue}}var u=a.parent;for(a=a.next;a===null&&u!==null;)a=u.next,u=u.parent}return e}function i(t){var e=t.f,a=(e&we)!==0;if(He!==null&&He.add(t),M!==null&&!Ie){if(!(X!=null&&X[1].includes(t))||X[0]!==M){var n=M.deps;t.rv<Qt&&(t.rv=Qt,ne===null&&n!==null&&n[ve]===t?ve++:ne===null?ne=[t]:(!Be||!ne.includes(t))&&ne.push(t))}}else if(a&&t.deps===null&&t.effects===null){var r=t,s=r.parent;s!==null&&(s.f&pe)===0&&(r.f^=pe)}return a&&(r=t,la(r)&&Xa(r)),tt&&lt.has(t)?lt.get(t):t.v}function gr(t){var e=He;He=new Set;var a=He,n;try{if(y(t),e!==null)for(n of He)e.add(n)}finally{He=e}return a}function re(t){var e=gr(()=>y(t));for(var a of e)if((a.f&On)!==0)for(const n of a.deps||[])(n.f&we)===0&&ut(n,n.v);else ut(a,a.v)}function y(t){var e=Ie;try{return Ie=!0,t()}finally{Ie=e}}const yr=-7169;function Ae(t,e){t.f=t.f&yr|e}function $(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Ve in t)pa(t);else if(!Array.isArray(t))for(let e in t){const a=t[e];typeof a=="object"&&a&&Ve in a&&pa(a)}}}function pa(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let n in t)try{pa(t[n],e)}catch{}const a=ma(t);if(a!==Object.prototype&&a!==Array.prototype&&a!==Map.prototype&&a!==Set.prototype&&a!==Date.prototype){const n=qa(a);for(let r in n){const s=n[r].get;if(s)try{s.call(t)}catch{}}}}}const wr=["touchstart","touchmove"];function br(t){return wr.includes(t)}let La=!1;function Sr(){La||(La=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const a of t.target.elements)(e=a.__on_r)==null||e.call(a)})},{capture:!0}))}function xr(t){var e=M,a=R;Pe(null),Ye(null);try{return t()}finally{Pe(e),Ye(a)}}function _n(t,e,a,n=a){t.addEventListener(e,()=>xr(a));const r=t.__on_r;r?t.__on_r=()=>{r(),n(!0)}:t.__on_r=()=>n(!0),Sr()}const mn=new Set,ha=new Set;function Je(t){for(var e=0;e<t.length;e++)mn.add(t[e]);for(var a of ha)a(t)}function jt(t){var P;var e=this,a=e.ownerDocument,n=t.type,r=((P=t.composedPath)==null?void 0:P.call(t))||[],s=r[0]||t.target,o=0,u=t.__root;if(u){var l=r.indexOf(u);if(l!==-1&&(e===document||e===window)){t.__root=e;return}var f=r.indexOf(e);if(f===-1)return;l<=f&&(o=l)}if(s=r[o]||t.target,s!==e){Tn(t,"currentTarget",{configurable:!0,get(){return s||a}});var c=M,d=R;Pe(null),Ye(null);try{for(var v,_=[];s!==null;){var g=s.assignedSlot||s.parentNode||s.host||null;try{var x=s["__"+n];if(x!=null&&(!s.disabled||t.target===s))if(aa(x)){var[w,...k]=x;w.apply(s,[t,...k])}else x.call(s,t)}catch(A){v?_.push(A):v=A}if(t.cancelBubble||g===e||g===null)break;s=g}if(v){for(let A of _)queueMicrotask(()=>{throw A});throw v}}finally{t.__root=e,delete t.currentTarget,Pe(c),Ye(d)}}}function kr(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Zt(t,e){var a=R;a.nodes_start===null&&(a.nodes_start=t,a.nodes_end=e)}function C(t,e){var a=(e&Yn)!==0,n=(e&Jn)!==0,r,s=!t.startsWith("<!>");return()=>{r===void 0&&(r=kr(s?t:"<!>"+t),a||(r=Yt(r)));var o=n||en?document.importNode(r,!0):r.cloneNode(!0);if(a){var u=Yt(o),l=o.lastChild;Zt(u,l)}else Zt(o,o);return o}}function ea(t=""){{var e=ra(t+"");return Zt(e,e),e}}function Dr(){var t=document.createDocumentFragment(),e=document.createComment(""),a=ra();return t.append(e,a),Zt(e,a),t}function T(t,e){t!==null&&t.before(e)}function N(t,e){var a=e==null?"":typeof e=="object"?e+"":e;a!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=a,t.nodeValue=a+"")}function Tr(t,e){return Er(t,e)}const Xe=new Map;function Er(t,{target:e,anchor:a,props:n={},events:r,context:s,intro:o=!0}){er();var u=new Set,l=d=>{for(var v=0;v<d.length;v++){var _=d[v];if(!u.has(_)){u.add(_);var g=br(_);e.addEventListener(_,jt,{passive:g});var x=Xe.get(_);x===void 0?(document.addEventListener(_,jt,{passive:g}),Xe.set(_,1)):Xe.set(_,x+1)}}};l(_a(mn)),ha.add(l);var f=void 0,c=sr(()=>{var d=a??e.appendChild(ra());return ct(()=>{if(s){he({});var v=z;v.c=s}r&&(n.$$events=r),f=t(d,n)||{},s&&_e()}),()=>{var g;for(var v of u){e.removeEventListener(v,jt);var _=Xe.get(v);--_===0?(document.removeEventListener(v,jt),Xe.delete(v)):Xe.set(v,_)}ha.delete(l),d!==a&&((g=d.parentNode)==null||g.removeChild(d))}});return Cr.set(f,c),f}let Cr=new WeakMap;function Y(t,e,[a,n]=[0,0]){var r=t,s=null,o=null,u=le,l=a>0?ba:0,f=!1;const c=(v,_=!0)=>{f=!0,d(_,v)},d=(v,_)=>{u!==(u=v)&&(u?(s?Vt(s):_&&(s=ct(()=>_(r))),o&&Ht(o,()=>{o=null})):(o?Vt(o):_&&(o=ct(()=>_(r,[a+1,n]))),s&&Ht(s,()=>{s=null})))};Da(()=>{f=!1,e(c),f||d(null,null)},l)}function je(t,e){return e}function Ir(t,e,a,n){for(var r=[],s=e.length,o=0;o<s;o++)Ta(e[o].e,r,!0);var u=s>0&&r.length===0&&a!==null;if(u){var l=a.parentNode;tr(l),l.append(a),n.clear(),Ue(t,e[0].prev,e[s-1].next)}un(r,()=>{for(var f=0;f<s;f++){var c=e[f];u||(n.delete(c.k),Ue(t,c.prev,c.next)),ze(c.e,!u)}})}function se(t,e,a,n,r,s=null){var o=t,u={flags:e,items:new Map,first:null},l=(e&Ka)!==0;if(l){var f=t;o=f.appendChild(ra())}var c=null,d=!1,v=Me(()=>{var _=a();return aa(_)?_:_==null?[]:_a(_)});Da(()=>{var _=i(v),g=_.length;d&&g===0||(d=g===0,Or(_,u,o,r,e,n,a),s!==null&&(g===0?c?Vt(c):c=ct(()=>s(o)):c!==null&&Ht(c,()=>{c=null})),i(v))})}function Or(t,e,a,n,r,s,o){var xe,Te,Ee,$e;var u=(r&qn)!==0,l=(r&(Sa|xa))!==0,f=t.length,c=e.items,d=e.first,v=d,_,g=null,x,w=[],k=[],P,A,D,I;if(u)for(I=0;I<f;I+=1)P=t[I],A=s(P,I),D=c.get(A),D!==void 0&&((xe=D.a)==null||xe.measure(),(x??(x=new Set)).add(D));for(I=0;I<f;I+=1){if(P=t[I],A=s(P,I),D=c.get(A),D===void 0){var Z=v?v.e.nodes_start:a;g=Ar(Z,e,g,g===null?e.first:g.next,P,A,I,n,r,o),c.set(A,g),w=[],k=[],v=g.next;continue}if(l&&Pr(D,P,I,r),(D.e.f&Le)!==0&&(Vt(D.e),u&&((Te=D.a)==null||Te.unfix(),(x??(x=new Set)).delete(D))),D!==v){if(_!==void 0&&_.has(D)){if(w.length<k.length){var B=k[0],ee;g=B.prev;var De=w[0],Se=w[w.length-1];for(ee=0;ee<w.length;ee+=1)Wa(w[ee],B,a);for(ee=0;ee<k.length;ee+=1)_.delete(k[ee]);Ue(e,De.prev,Se.next),Ue(e,g,De),Ue(e,Se,B),v=B,g=Se,I-=1,w=[],k=[]}else _.delete(D),Wa(D,v,a),Ue(e,D.prev,D.next),Ue(e,D,g===null?e.first:g.next),Ue(e,g,D),g=D;continue}for(w=[],k=[];v!==null&&v.k!==A;)(v.e.f&Le)===0&&(_??(_=new Set)).add(v),k.push(v),v=v.next;if(v===null)continue;D=v}w.push(D),g=D,v=D.next}if(v!==null||_!==void 0){for(var ue=_===void 0?[]:_a(_);v!==null;)(v.e.f&Le)===0&&ue.push(v),v=v.next;var me=ue.length;if(me>0){var Fe=(r&Ka)!==0&&f===0?a:null;if(u){for(I=0;I<me;I+=1)(Ee=ue[I].a)==null||Ee.measure();for(I=0;I<me;I+=1)($e=ue[I].a)==null||$e.fix()}Ir(e,ue,Fe,c)}}u&&ur(()=>{var Ce;if(x!==void 0)for(D of x)(Ce=D.a)==null||Ce.apply()}),R.first=e.first&&e.first.e,R.last=g&&g.e}function Pr(t,e,a,n){(n&Sa)!==0&&ut(t.v,e),(n&xa)!==0?ut(t.i,a):t.i=a}function Ar(t,e,a,n,r,s,o,u,l,f){var c=(l&Sa)!==0,d=(l&zn)===0,v=c?d?Qn(r,!1,!1):ot(r):r,_=(l&xa)===0?o:ot(o),g={i:_,v,k:s,a:null,e:null,prev:a,next:n};try{return g.e=ct(()=>u(t,v,_,f),Zn),g.e.prev=a&&a.e,g.e.next=n&&n.e,a===null?e.first=g:(a.next=g,a.e.next=g.e),n!==null&&(n.prev=g,n.e.prev=g.e),g}finally{}}function Wa(t,e,a){for(var n=t.next?t.next.e.nodes_start:a,r=e?e.e.nodes_start:a,s=t.e.nodes_start;s!==n;){var o=sa(s);r.before(s),s=o}}function Ue(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}function gn(t){var e,a,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(a=gn(t[e]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a);return n}function Nr(){for(var t,e,a=0,n="",r=arguments.length;a<r;a++)(t=arguments[a])&&(e=gn(t))&&(n&&(n+=" "),n+=e);return n}function $r(t){return typeof t=="object"?Nr(t):t??""}const Ra=[...` 	
\r\fÂ \v\uFEFF`];function Mr(t,e,a){var n=t==null?"":""+t;if(e&&(n=n?n+" "+e:e),a){for(var r in a)if(a[r])n=n?n+" "+r:r;else if(n.length)for(var s=r.length,o=0;(o=n.indexOf(r,o))>=0;){var u=o+s;(o===0||Ra.includes(n[o-1]))&&(u===n.length||Ra.includes(n[u]))?n=(o===0?"":n.substring(0,o))+n.substring(u+1):o=u}}return n===""?null:n}function Lr(t,e){return t==null?null:String(t)}function Q(t,e,a,n,r,s){var o=t.__className;if(o!==a||o===void 0){var u=Mr(a,n,s);u==null?t.removeAttribute("class"):t.className=u,t.__className=a}else if(s&&r!==s)for(var l in s){var f=!!s[l];(r==null||f!==!!r[l])&&t.classList.toggle(l,f)}return s}function ta(t,e,a,n){var r=t.__style;if(r!==e){var s=Lr(e);s==null?t.removeAttribute("style"):t.style.cssText=s,t.__style=e}return n}function yn(t,e,a){if(t.multiple){if(e==null)return;if(!aa(e))return Xn();for(var n of t.options)n.selected=e.includes(it(n));return}for(n of t.options){var r=it(n);if(Kn(r,e)){n.selected=!0;return}}(!a||e!==void 0)&&(t.selectedIndex=-1)}function Wr(t,e){ia(()=>{var a=new MutationObserver(()=>{var n=t.__value;yn(t,n)});return a.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{a.disconnect()}})}function Fa(t,e,a=e){var n=!0;_n(t,"change",r=>{var s=r?"[selected]":":checked",o;if(t.multiple)o=[].map.call(t.querySelectorAll(s),it);else{var u=t.querySelector(s)??t.querySelector("option:not([disabled])");o=u&&it(u)}a(o)}),ia(()=>{var r=e();if(yn(t,r,n),n&&r===void 0){var s=t.querySelector(":checked");s!==null&&(r=it(s),a(r))}t.__value=r,n=!1}),Wr(t)}function it(t){return"__value"in t?t.__value:t.value}const Rr=Symbol("is custom element"),Fr=Symbol("is html");function wn(t,e){var a=bn(t);a.value===(a.value=e??void 0)||t.value===e&&(e!==0||t.nodeName!=="PROGRESS")||(t.value=e??"")}function qe(t,e,a,n){var r=bn(t);r[e]!==(r[e]=a)&&(e==="loading"&&(t[An]=a),a==null?t.removeAttribute(e):typeof a!="string"&&Ur(t).includes(e)?t[e]=a:t.setAttribute(e,a))}function bn(t){return t.__attributes??(t.__attributes={[Rr]:t.nodeName.includes("-"),[Fr]:t.namespaceURI===Hn})}var Ua=new Map;function Ur(t){var e=Ua.get(t.nodeName);if(e)return e;Ua.set(t.nodeName,e=[]);for(var a,n=t,r=Element.prototype;r!==n;){a=qa(n);for(var s in a)a[s].set&&e.push(s);n=ma(n)}return e}function oe(t,e,a=e){var n=Ut();_n(t,"input",r=>{var s=r?t.defaultValue:t.value;if(s=ua(t)?ca(s):s,a(s),n&&s!==(s=e())){var o=t.selectionStart,u=t.selectionEnd;t.value=s??"",u!==null&&(t.selectionStart=o,t.selectionEnd=Math.min(u,t.value.length))}}),y(e)==null&&t.value&&a(ua(t)?ca(t.value):t.value),rn(()=>{var r=e();ua(t)&&r===ca(t.value)||t.type==="date"&&!r&&!t.value||r!==t.value&&(t.value=r??"")})}function ua(t){var e=t.type;return e==="number"||e==="range"}function ca(t){return t===""?null:+t}function Ne(t=!1){const e=z,a=e.l.u;if(!a)return;let n=()=>$(e.s);if(t){let r=0,s={};const o=ka(()=>{let u=!1;const l=e.s;for(const f in l)l[f]!==s[f]&&(s[f]=l[f],u=!0);return u&&r++,r});n=()=>i(o)}a.b.length&&rr(()=>{Ba(e,n),fa(a.b)}),Jt(()=>{const r=y(()=>a.m.map(In));return()=>{for(const s of r)typeof s=="function"&&s()}}),a.a.length&&Jt(()=>{Ba(e,n),fa(a.a)})}function Ba(t,e){if(t.l.s)for(const a of t.l.s)i(a);e()}function Br(t){z===null&&Vn(),Ft&&z.l!==null?jr(z).m.push(t):Jt(()=>{const e=y(t);if(typeof e=="function")return e})}function jr(t){var e=t.l;return e.u??(e.u={a:[],b:[],m:[]})}const qr="5";var ja;typeof window<"u"&&((ja=window.__svelte??(window.__svelte={})).v??(ja.v=new Set)).add(qr);let zr=0;const rt=()=>`id_${Date.now()}_${zr++}`;var ft,dt,vt,pt,ht,_t,mt,gt,yt,wt,bt,St,xt,kt,Dt,Tt,Et,Ct,It,Ot,Pt,At,Nt,$t,Mt,Lt,Wt,Rt;class Yr{constructor(){nt(this,"pb",null);W(this,ft,E(!0));nt(this,"lastSavedState",null);W(this,dt,E(""));W(this,vt,E(""));W(this,pt,E("London"));W(this,ht,E("saved"));nt(this,"saveTimeout",null);W(this,_t,E(!1));W(this,mt,E(""));nt(this,"notificationTimeout",null);W(this,gt,E(V(navigator.onLine)));W(this,yt,E(V([])));W(this,wt,E(!1));W(this,bt,E(!1));W(this,St,E(""));W(this,xt,E(""));W(this,kt,E(V(new Date().getDay())));W(this,Dt,E("Weekly Planner"));W(this,Tt,E(V([])));W(this,Et,E(V([])));W(this,Ct,E(V([])));W(this,It,E(V([])));W(this,Ot,E(V([])));W(this,Pt,E(V([])));W(this,At,E(V([])));W(this,Nt,E(V([])));W(this,$t,E(null));W(this,Mt,E(null));W(this,Lt,E(V([])));W(this,Wt,E(V([{name:"London",lat:51.5074,lon:-.1278},{name:"Cairo",lat:30.0444,lon:31.2357},{name:"Cape Town",lat:-33.9249,lon:18.4241},{name:"Amsterdam",lat:52.3676,lon:4.9041},{name:"Current Location",lat:null,lon:null}])));W(this,Rt,E(!1));window.PocketBase?(this.pb=new window.PocketBase(window.location.origin),this.pb.autoCancellation(!1)):console.error("PocketBase not available"),this.setupEventListeners()}get isInitializing(){return i(S(this,ft))}set isInitializing(e){b(S(this,ft),e,!0)}get currentWeek(){return i(S(this,dt))}set currentWeek(e){b(S(this,dt),e,!0)}get dateRange(){return i(S(this,vt))}set dateRange(e){b(S(this,vt),e,!0)}get city(){return i(S(this,pt))}set city(e){b(S(this,pt),e,!0)}get saveStatus(){return i(S(this,ht))}set saveStatus(e){b(S(this,ht),e,!0)}get showNotification(){return i(S(this,_t))}set showNotification(e){b(S(this,_t),e,!0)}get notificationMessage(){return i(S(this,mt))}set notificationMessage(e){b(S(this,mt),e,!0)}get isOnline(){return i(S(this,gt))}set isOnline(e){b(S(this,gt),e,!0)}get pendingSync(){return i(S(this,yt))}set pendingSync(e){b(S(this,yt),e,!0)}get showCitySelector(){return i(S(this,wt))}set showCitySelector(e){b(S(this,wt),e,!0)}get showWeekSelector(){return i(S(this,bt))}set showWeekSelector(e){b(S(this,bt),e,!0)}get cityDropdownStyle(){return i(S(this,St))}set cityDropdownStyle(e){b(S(this,St),e,!0)}get weekDropdownStyle(){return i(S(this,xt))}set weekDropdownStyle(e){b(S(this,xt),e,!0)}get currentDay(){return i(S(this,kt))}set currentDay(e){b(S(this,kt),e,!0)}get plannerTitle(){return i(S(this,Dt))}set plannerTitle(e){b(S(this,Dt),e,!0)}get times(){return i(S(this,Tt))}set times(e){b(S(this,Tt),e,!0)}get schedule(){return i(S(this,Et))}set schedule(e){b(S(this,Et),e,!0)}get tasks(){return i(S(this,Ct))}set tasks(e){b(S(this,Ct),e,!0)}get workoutPlan(){return i(S(this,It))}set workoutPlan(e){b(S(this,It),e,!0)}get meals(){return i(S(this,Ot))}set meals(e){b(S(this,Ot),e,!0)}get groceryList(){return i(S(this,Pt))}set groceryList(e){b(S(this,Pt),e,!0)}get bodyMeasurements(){return i(S(this,At))}set bodyMeasurements(e){b(S(this,At),e,!0)}get financials(){return i(S(this,Nt))}set financials(e){b(S(this,Nt),e,!0)}get currentTemplate(){return i(S(this,$t))}set currentTemplate(e){b(S(this,$t),e,!0)}get currentTemplateId(){return i(S(this,Mt))}set currentTemplateId(e){b(S(this,Mt),e,!0)}get savedWeeks(){return i(S(this,Lt))}set savedWeeks(e){b(S(this,Lt),e,!0)}get cityOptions(){return i(S(this,Wt))}set cityOptions(e){b(S(this,Wt),e,!0)}get showSetupModal(){return i(S(this,Rt))}set showSetupModal(e){b(S(this,Rt),e,!0)}setupEventListeners(){window.addEventListener("online",()=>{this.isOnline=!0,this.syncPendingData()}),window.addEventListener("offline",()=>this.isOnline=!1),document.addEventListener("click",e=>{e.target.closest(".dropdown-portal,.clickable")||(this.showCitySelector=this.showWeekSelector=!1)})}async init(){if(console.log("PlannerStore init() called"),!this.pb&&window.PocketBase&&(this.pb=new window.PocketBase(window.location.origin),this.pb.autoCancellation(!1)),!this.pb){console.error("PocketBase not available in init"),this.showSetupNotification(),this.isInitializing=!1;return}if(!await this.checkDatabaseInitialized()){console.log("Database not initialized, showing setup notification"),this.showSetupNotification(),this.isInitializing=!1;return}this.pendingSync=JSON.parse(localStorage.getItem("planner_pending_sync")||"[]"),this.currentWeek=this.getCurrentIsoWeek(),this.dateRange=this.getWeekDateRange(this.parseISOWeek(this.currentWeek)),await this.loadWeek(this.currentWeek,!0),setInterval(()=>{!this.isInitializing&&this.hasSignificantChanges()&&this.saveData()},3e4),this.isOnline&&this.syncPendingData()}async checkDatabaseInitialized(){try{const e=await this.pb.collection("templates").getFirstListItem("is_default=true");return!0}catch(e){return console.log("Database not initialized:",e.message),!1}}showSetupNotification(){if(console.log("showSetupNotification called"),!document.body){console.error("document.body not ready"),setTimeout(()=>this.showSetupNotification(),100);return}if(document.querySelector(".setup-notification")){console.log("Setup notification already exists");return}const e=document.createElement("div");e.className="setup-notification";const a=document.createElement("span");a.textContent="Database not initialized",e.appendChild(a);const n=document.createElement("button");n.className="setup-notification-button",n.textContent="Setup",e.appendChild(n),document.body.appendChild(e),console.log("Setup notification added to DOM"),n.addEventListener("click",()=>{console.log("Setup button clicked"),console.log("showSetupModal before:",this.showSetupModal),this.showSetupModal=!0,console.log("showSetupModal after:",this.showSetupModal),setTimeout(()=>{const r=document.querySelector(".setup-modal-overlay");console.log("Modal element exists:",r?"YES":"NO")},100)})}async fetchTemplate(e="default"){const a=`template_${e}`;try{const n=localStorage.getItem(a);if(n)return JSON.parse(n)}catch{localStorage.removeItem(a)}if(!this.isOnline)return this.showMessage("Offline: Using fallback template"),this.getFallbackTemplate();try{const n=e==="default"?"is_default=true":`name="${e}"`,r=await this.pb.collection("templates").getFirstListItem(n);return localStorage.setItem(a,JSON.stringify(r)),r}catch{return this.showMessage("Template error: Using fallback"),this.getFallbackTemplate()}}getFallbackTemplate(){return{id:"fallback",name:"fallback",structure:{prayer_times:[{label:"Q",value:""},{label:"F",value:""},{label:"D",value:""},{label:"A",value:""},{label:"M",value:""},{label:"I",value:""}],schedule:[{name:"TOTAL",activities:[{name:"DAILY POINTS",max_per_day:0,max_score:0}]}],tasks:{count:5,fields:["num","priority","tag","description","start_date","expected_date","actual_date","completed"]},workout:[],meals:[],grocery:{categories:[]},measurements:[],financials:[],city_default:"London"}}}applyTemplateStructure(e){var n,r;this.currentTemplate=e,this.currentTemplateId=e.id;const a=e.structure;this.plannerTitle=a.title_default||"Weekly Planner",this.times=[...a.prayer_times||[]],this.schedule=this.buildScheduleFromTemplate(a.schedule||[]),this.tasks=Array(((n=a.tasks)==null?void 0:n.count)||15).fill().map(()=>({id:rt(),priority:"",tag:"",description:"",startDate:"",expectedDate:"",actualDate:"",completed:""})),this.workoutPlan=this.buildWorkoutFromTemplate(a.workout||[]),this.meals=this.ensureIds([...a.meals||[]]),this.groceryList=this.ensureIds([...((r=a.grocery)==null?void 0:r.categories)||[]]),this.bodyMeasurements=this.ensureIds([...a.measurements||[]]),this.financials=this.ensureIds([...a.financials||[]]),this.city=a.city_default||"London"}buildScheduleFromTemplate(e){return e.map(a=>({id:rt(),name:a.name,activities:(a.activities||[]).map(n=>({id:rt(),name:n.name,days:this.createDaysStructure(n.days,n.max_per_day||1),score:0,maxScore:n.max_score||0,streaks:{current:0,longest:0}}))}))}createDaysStructure(e,a){const n=["mon","tue","wed","thu","fri","sat","sun"],r={};return(e&&Array.isArray(e)?e:n).forEach(o=>{r[o]={value:"",max:a}}),r}buildWorkoutFromTemplate(e){return e.map(a=>({id:rt(),name:a.name,exercises:this.ensureIds((a.exercises||[]).map(n=>{var r,s,o;return{prefix:"â€¢ ",name:n.name,weight:"",sets:"",reps:"",defaultWeight:((r=n.default_weight)==null?void 0:r.toString())||"",defaultSets:((s=n.default_sets)==null?void 0:s.toString())||"",defaultReps:((o=n.default_reps)==null?void 0:o.toString())||""}}))}))}ensureIds(e){return e.map(a=>({...a,id:a.id||rt()}))}async loadWeek(e,a=!1){if(!/^\\d{4}-W(0[1-9]|[1-4]\\d|5[0-3])$/.test(e)){this.showMessage("Invalid week format");return}this.showWeekSelector=!1,this.currentWeek=e,this.dateRange=this.getWeekDateRange(this.parseISOWeek(e));let n=await this.fetchPlannerRecord(e),r;n!=null&&n.template_id?r=await this.fetchTemplateById(n.template_id):r=await this.fetchTemplate("default"),this.applyTemplateStructure(r),n&&this.overlayUserData(n),this.calculateScores(),a&&!this.times.some(s=>s.value)&&await this.getPrayerTimes(),this.lastSavedState=JSON.stringify(this.getCurrentUserData()),a&&(this.isInitializing=!1)}async fetchPlannerRecord(e){if(this.isOnline)try{return await this.pb.collection("planners").getFirstListItem(`week_id="${e}"`)}catch{}const a=localStorage.getItem(`planner_${e}`);if(a)try{return JSON.parse(a)}catch{}return null}async fetchTemplateById(e){try{return await this.pb.collection("templates").getOne(e)}catch{return await this.fetchTemplate("default")}}overlayUserData(e){var a;e.title&&(this.plannerTitle=e.title),e.city&&(this.city=e.city),e.prayer_times&&this.overlayArray(this.times,e.prayer_times),e.schedule_data&&this.overlayComplexData(this.schedule,e.schedule_data,"name",this.overlayScheduleActivity),e.tasks_data&&this.overlayArray(this.tasks,e.tasks_data),e.workout_data&&this.overlayComplexData(this.workoutPlan,e.workout_data,"name",this.overlayWorkoutExercise),e.meals_data&&this.overlayArray(this.meals,e.meals_data),(a=e.grocery_data)!=null&&a.categories&&this.overlayArray(this.groceryList,e.grocery_data.categories),e.measurements_data&&this.overlayArray(this.bodyMeasurements,e.measurements_data),e.financials_data&&this.overlayArray(this.financials,e.financials_data)}overlayArray(e,a){a.forEach((n,r)=>{e[r]&&Object.assign(e[r],n)})}overlayComplexData(e,a,n,r){a.forEach(s=>{const o=e.find(u=>u[n]===s[n]);o&&r.call(this,o,s)})}overlayScheduleActivity(e,a){var n;(n=a.activities)==null||n.forEach(r=>{const s=e.activities.find(o=>o.name===r.name);s&&(r.days&&Object.keys(s.days).forEach(o=>{r.days[o]&&(s.days[o].value=r.days[o].value||"")}),s.score=r.score||0,s.streaks=r.streaks||{current:0,longest:0})})}overlayWorkoutExercise(e,a){var n;(n=a.exercises)==null||n.forEach(r=>{const s=e.exercises.find(o=>o.name===r.name);s&&(s.weight=r.weight||"",s.sets=r.sets||"",s.reps=r.reps||"")})}getCurrentUserData(){var e,a,n,r;return{week_id:this.currentWeek,template_id:this.currentTemplateId,title:this.plannerTitle!==((a=(e=this.currentTemplate)==null?void 0:e.structure)==null?void 0:a.title_default)?this.plannerTitle:null,city:this.city!==((r=(n=this.currentTemplate)==null?void 0:n.structure)==null?void 0:r.city_default)?this.city:null,date_range:this.dateRange,prayer_times:this.times.some(s=>s.value)?this.times:null,schedule_data:this.extractScheduleData(),tasks_data:this.extractUserTasks(),workout_data:this.extractWorkoutData(),meals_data:this.extractUserItems(this.meals,["name","ingredients"]),grocery_data:this.extractGroceryData(),measurements_data:this.extractUserItems(this.bodyMeasurements,["value"]),financials_data:this.extractUserItems(this.financials,["value"])}}extractScheduleData(){return this.extractComplexData(this.schedule,e=>({name:e.name,activities:e.activities.map(a=>({name:a.name,days:Object.keys(a.days).reduce((n,r)=>(a.days[r].value&&(n[r]={value:a.days[r].value}),n),{}),score:a.score,streaks:a.streaks})).filter(a=>Object.keys(a.days).length>0||a.score>0)}),e=>e.activities.length>0)}extractUserTasks(){return this.tasks.filter(e=>e.priority||e.tag||e.description||e.startDate||e.expectedDate||e.actualDate||e.completed)}extractWorkoutData(){return this.extractComplexData(this.workoutPlan,e=>({name:e.name,exercises:e.exercises.filter(a=>a.weight||a.sets||a.reps).map(a=>({name:a.name,weight:a.weight,sets:a.sets,reps:a.reps}))}),e=>e.exercises.length>0)}extractComplexData(e,a,n=()=>!0){return e.map(a).filter(n)}extractUserItems(e,a){return e.filter(n=>a.some(r=>n[r]))}extractGroceryData(){const e=this.extractUserItems(this.groceryList,["name","items"]);return e.length>0?{categories:e}:null}getTaskDelay(e){if(!e.expectedDate||!e.actualDate)return 0;const a=new Date(e.expectedDate),n=new Date(e.actualDate);return Math.ceil((n-a)/(1e3*60*60*24))}calculateTaskDelay(e){return e._delay=this.getTaskDelay(e),e._delay}formatDelay(e){return e===0?"0d":e>0?`+${e}d`:`${e}d`}toggleTaskCompletion(e){e.completed=e.completed==="âœ“"?"â˜":"âœ“",e.completed==="âœ“"&&!e.actualDate&&(e.actualDate=new Date().toISOString().split("T")[0],this.calculateTaskDelay(e)),this.saveData()}toggleSelector(e,a){const n=a==="city"?"showCitySelector":"showWeekSelector",r=a==="city"?"showWeekSelector":"showCitySelector";if(this[r]=!1,this[n])this[n]=!1;else{const s=e.target.getBoundingClientRect();this[`${a}DropdownStyle`]=`position:fixed;top:${s.bottom+4}px;left:${Math.max(10,s.left-100)}px;z-index:9999;min-width:150px;max-width:250px;`,this[n]=!0,a==="week"&&this.fetchSavedWeeks()}}async selectCity(e){this.city=e.name,this.showCitySelector=!1;try{e.lat===null?await this.getPrayerTimes():await this.fetchPrayerTimes(e.lat,e.lon),this.saveData()}catch{this.showMessage("Failed to load prayer times")}}async getPrayerTimes(){var e,a,n;try{const r=await new Promise((u,l)=>navigator.geolocation.getCurrentPosition(u,l,{timeout:5e3,maximumAge:6e4})),{latitude:s,longitude:o}=r.coords;try{const l=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${s}&lon=${o}&zoom=10&accept-language=en`)).json();this.city=((e=l.address)==null?void 0:e.city)||((a=l.address)==null?void 0:a.town)||((n=l.address)==null?void 0:n.village)||"Current Location"}catch{this.city="Current Location"}await this.fetchPrayerTimes(s,o)}catch{this.showMessage("Location access failed. Using London"),this.city="London",await this.fetchPrayerTimes(51.5074,-.1278)}}async fetchPrayerTimes(e,a){var u,l;const n=new Date,s=`prayer_times_${`${n.getFullYear()}_${n.getMonth()+1}_${n.getDate()}`}_${e.toFixed(2)}_${a.toFixed(2)}`,o=localStorage.getItem(s);if(o)try{this.setPrayerTimes(JSON.parse(o));return}catch{localStorage.removeItem(s)}try{const f=await fetch(`https://api.aladhan.com/v1/calendar/${n.getFullYear()}/${n.getMonth()+1}?latitude=${e}&longitude=${a}&method=2`);if(!f.ok)throw new Error(`API error: ${f.status}`);const c=await f.json();if(c.code===200&&((l=(u=c.data)==null?void 0:u[n.getDate()-1])!=null&&l.timings))localStorage.setItem(s,JSON.stringify(c.data[n.getDate()-1].timings)),this.setPrayerTimes(c.data[n.getDate()-1].timings);else throw new Error("Invalid prayer time data")}catch{this.showMessage("Prayer times fetch failed"),this.setPrayerTimes({Fajr:"05:30",Dhuhr:"12:30",Asr:"15:45",Maghrib:"18:30",Isha:"20:00"})}}setPrayerTimes(e){const a={Q:this.calculateQiyamTime(e.Fajr),F:e.Fajr,D:e.Dhuhr,A:e.Asr,M:e.Maghrib,I:e.Isha};this.times.reduce((r,s)=>{const o=this.formatTime(a[s.label]);return s.value!==o?(s.value=o,!0):r},!1)&&!this.isInitializing&&this.saveData()}formatTime(e){if(!e)return"";const[a,n]=e.split(" ")[0].split(":"),r=parseInt(a),s=parseInt(n);return isNaN(r)||isNaN(s)?"":`${r%12||12}:${s.toString().padStart(2,"0")}${r>=12?"PM":"AM"}`}calculateQiyamTime(e){if(!e)return"";const[a,n]=e.split(" ")[0].split(":");let r=parseInt(a),s=parseInt(n);return isNaN(r)||isNaN(s)?"":(r=r-1,r<0&&(r=23),`${r}:${s.toString().padStart(2,"0")}`)}calculateScores(){var r;const e={mon:0,tue:0,wed:0,thu:0,fri:0,sat:0,sun:0},a=Object.keys(e);this.schedule.forEach(s=>{s.name!=="TOTAL"&&s.activities.forEach(o=>{let u=0;Object.entries(o.days||{}).forEach(([c,d])=>{if(!d)return;const v=parseInt(d.value)||0;v>0&&(d.max||0)>0&&(e[c]+=v,u+=v),d.value=v===0?"":v.toString()}),o.score=u,o.streaks=o.streaks||{current:0,longest:0};const l=this.currentDay===0?6:this.currentDay-1;let f=0;for(let c=0;c<7;c++){const d=(l-c+7)%7,v=a[d];if(o.days[v]&&parseInt(o.days[v].value)>0&&(o.days[v].max||0)>0)f++;else break}o.streaks.current=f,o.streaks.longest=Math.max(o.streaks.longest||0,f)})});const n=this.schedule.find(s=>s.name==="TOTAL");if((r=n==null?void 0:n.activities)!=null&&r[0]){const s=n.activities[0];let o=0,u=0;Object.entries(e).forEach(([l,f])=>{var c;(c=s.days)!=null&&c[l]&&(s.days[l].value=f.toString()),o+=f}),this.schedule.forEach(l=>{l.name!=="TOTAL"&&l.activities.forEach(f=>u+=f.maxScore||0)}),s.score=o,s.maxScore=u}}validateAndSave(e){const a=e.target,n=parseFloat(a.min),r=parseFloat(a.max);let s=parseFloat(a.value);isNaN(s)&&(s=0),!isNaN(n)&&s<n&&(s=n),!isNaN(r)&&s>r&&(s=r),a.value=s===0?"":s.toString(),this.calculateScores(),this.saveData()}saveData(){this.isInitializing||(clearTimeout(this.saveTimeout),this.saveStatus="saving",this.saveTimeout=setTimeout(async()=>{try{this.calculateScores();const e=this.getCurrentUserData();localStorage.setItem(`planner_${this.currentWeek}`,JSON.stringify(e)),this.isOnline?(await this.saveToPocketbase(this.currentWeek,e),this.pendingSync=this.pendingSync.filter(a=>!(a.weekId===this.currentWeek&&a.operation!=="delete"))):this.addToPendingSync(this.currentWeek,e),localStorage.setItem("planner_pending_sync",JSON.stringify(this.pendingSync)),this.lastSavedState=JSON.stringify(e),this.saveStatus="saved"}catch(e){this.saveStatus="error",this.showMessage("Save error: "+e.message),setTimeout(()=>this.saveStatus="saved",3e3)}},500))}hasSignificantChanges(){if(!this.lastSavedState)return!0;const e=this.getCurrentUserData();return JSON.stringify(e)!==this.lastSavedState}addToPendingSync(e,a,n="save"){this.pendingSync=this.pendingSync.filter(r=>!(r.weekId===e&&r.operation===n)),this.pendingSync.push({weekId:e,data:a?JSON.parse(JSON.stringify(a)):null,operation:n,timestamp:new Date().toISOString()}),localStorage.setItem("planner_pending_sync",JSON.stringify(this.pendingSync))}async syncPendingData(){if(!this.isOnline||this.pendingSync.length===0)return;const e=[...this.pendingSync];this.pendingSync=[];for(const a of e)try{a.operation==="delete"?await this.deleteFromPocketbase(a.weekId):await this.saveToPocketbase(a.weekId,a.data);const n=JSON.parse(localStorage.getItem("planner_pending_sync")||"[]");localStorage.setItem("planner_pending_sync",JSON.stringify(n.filter(r=>r.timestamp!==a.timestamp)))}catch{this.pendingSync.push(a)}this.pendingSync.length>0&&localStorage.setItem("planner_pending_sync",JSON.stringify(this.pendingSync))}async saveToPocketbase(e,a){try{const n=await this.pb.collection("planners").getFirstListItem(`week_id="${e}"`);await this.pb.collection("planners").update(n.id,a)}catch(n){if(n.status===404)await this.pb.collection("planners").create(a);else throw n}}async deleteFromPocketbase(e){try{const a=await this.pb.collection("planners").getFirstListItem(`week_id="${e}"`);await this.pb.collection("planners").delete(a.id)}catch(a){if(a.status!==404)throw a}}async fetchSavedWeeks(){const e=new Map,a=this.getCurrentIsoWeek(),n=(r,s,o,u)=>{const l=e.get(r),f=s||this.getWeekDateRange(this.parseISOWeek(r));!l||o==="pocketbase"&&l.source!=="pocketbase"||o==="local"&&l.source==="current"?e.set(r,{iso_week:r,dateRange:f,source:o,isCurrent:u}):l&&!l.dateRange&&f&&(l.dateRange=f)};if(n(a,this.getWeekDateRange(this.parseISOWeek(a)),"current",!0),this.isOnline)try{(await this.pb.collection("planners").getFullList({sort:"-week_id",fields:"week_id,date_range"})).forEach(s=>n(s.week_id,s.date_range,"pocketbase",s.week_id===a))}catch{}for(let r=0;r<localStorage.length;r++){const s=localStorage.key(r);if(s.startsWith("planner_")&&!s.includes("pending_sync")&&!s.startsWith("planner_template_")){const o=s.replace("planner_","");try{const u=JSON.parse(localStorage.getItem(s));n(o,u.date_range,"local",o===a)}catch{}}}this.savedWeeks=Array.from(e.values()).sort((r,s)=>r.isCurrent&&!s.isCurrent?-1:!r.isCurrent&&s.isCurrent?1:s.iso_week.localeCompare(r.iso_week))}confirmLoadWeek(e){this.hasSignificantChanges()&&e!==this.currentWeek&&!confirm("Unsaved changes. Load anyway?")||(this.showWeekSelector=!1,this.loadWeek(e))}confirmDeleteWeek(e){confirm(`Delete schedule for ${e}?`)&&this.deleteWeek(e)}async deleteWeek(e){if(localStorage.removeItem(`planner_${e}`),this.isOnline)try{await this.deleteFromPocketbase(e)}catch{this.addToPendingSync(e,null,"delete")}else this.addToPendingSync(e,null,"delete");this.savedWeeks=this.savedWeeks.filter(a=>a.iso_week!==e),this.currentWeek===e&&(this.currentWeek=this.getCurrentIsoWeek(),await this.loadWeek(this.currentWeek))}getCurrentIsoWeek(){const e=new Date,a=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()));a.setUTCDate(a.getUTCDate()+4-(a.getUTCDay()||7));const n=new Date(Date.UTC(a.getUTCFullYear(),0,1)),r=Math.ceil(((a-n)/864e5+1)/7);return`${a.getUTCFullYear()}-W${r.toString().padStart(2,"0")}`}parseISOWeek(e){if(!/^\\d{4}-W(0[1-9]|[1-4]\\d|5[0-3])$/.test(e))return new Date;const[a,n]=e.split("-"),r=parseInt(n.substring(1)),s=new Date(Date.UTC(parseInt(a),0,1+(r-1)*7));return s.setUTCDate(s.getUTCDate()-(s.getUTCDay()||7)+1),s}getWeekDateRange(e){const a=new Date(e),n=new Date(a);return n.setUTCDate(a.getUTCDate()+6),`${this.formatDate(a)}-${this.formatDate(n)}`}formatDate(e){return`${(e.getUTCMonth()+1).toString().padStart(2,"0")}/${e.getUTCDate().toString().padStart(2,"0")}`}showMessage(e){this.notificationMessage=e,this.showNotification=!0,clearTimeout(this.notificationTimeout),this.notificationTimeout=setTimeout(()=>this.showNotification=!1,5e3)}}ft=new WeakMap,dt=new WeakMap,vt=new WeakMap,pt=new WeakMap,ht=new WeakMap,_t=new WeakMap,mt=new WeakMap,gt=new WeakMap,yt=new WeakMap,wt=new WeakMap,bt=new WeakMap,St=new WeakMap,xt=new WeakMap,kt=new WeakMap,Dt=new WeakMap,Tt=new WeakMap,Et=new WeakMap,Ct=new WeakMap,It=new WeakMap,Ot=new WeakMap,Pt=new WeakMap,At=new WeakMap,Nt=new WeakMap,$t=new WeakMap,Mt=new WeakMap,Lt=new WeakMap,Wt=new WeakMap,Rt=new WeakMap;const p=new Yr;window.plannerStore=p;jn();var Jr=()=>p.saveData(),Hr=C('<div class="flex center"><span> </span> <input type="text" class="input input--time"/></div>'),Vr=t=>p.toggleSelector(t,"city"),Kr=t=>p.toggleSelector(t,"week"),Gr=C('<div class="flex between center mb-1"><h1 class="text-sm bold"> </h1> <div class="flex center text-xs"><!> <span class="ml-1">|</span> <span class="clickable ml-1"> </span></div> <div class="text-sm"><span class="clickable"> </span> <span> </span></div></div>');function Qr(t,e){he(e,!1),Ne();var a=Gr(),n=h(a),r=h(n),s=m(n,2),o=h(s);se(o,1,()=>($(p),y(()=>p.times)),je,(g,x,w)=>{var k=Hr(),P=h(k),A=h(P),D=m(P,2);D.__change=[Jr],L(()=>N(A,`${i(x),y(()=>i(x).label)??""}:`)),oe(D,()=>i(x).value,I=>(i(x).value=I,re(()=>p))),T(g,k)});var u=m(o,4);u.__click=[Vr];var l=h(u),f=m(s,2),c=h(f);c.__click=[Kr];var d=h(c),v=m(c,2),_=h(v);L(()=>{N(r,($(p),y(()=>p.plannerTitle))),N(l,($(p),y(()=>p.city))),N(d,($(p),y(()=>p.currentWeek))),N(_,($(p),y(()=>p.dateRange)))}),T(t,a),_e()}Je(["change","click"]);var Xr=C("<th> </th> <th>MAX</th>",1),Zr=t=>p.validateAndSave(t),es=C('<input type="number" class="input" min="0"/>'),ts=C("<td><!></td> <td> </td>",1),as=C("<span> </span>"),ns=C('<tr><td class="bold"> </td><td class="bold"> </td><td class="ac"><span> </span></td><!><td class="dc"><input type="number" class="input" readonly=""/></td><td class="dc"> </td><td><!></td></tr>'),rs=C('<tr><td colspan="19" class="progress"><div></div></td></tr>'),ss=C("<!> <!>",1),is=C('<table><thead><tr><th style="width:18mm">T</th><th style="width:20mm">D</th><th class="ac">ACTIVITY</th><!><th class="dc">ðŸ“Š</th><th class="dc">ðŸŽ¯</th><th class="dc">ðŸ”¥</th></tr></thead><tbody></tbody></table>');function ls(t,e){he(e,!1);const a=["M","T","W","T","F","S","S"],n=["mon","tue","wed","thu","fri","sat","sun"];Ne();var r=is(),s=h(r),o=h(s),u=m(h(o),3);se(u,1,()=>a,je,(f,c,d)=>{var v=Xr(),_=Oe(v);let g;var x=h(_),w=m(_,2);let k;L((P,A)=>{g=Q(_,1,"dc",null,g,P),N(x,i(c)),k=Q(w,1,"dc",null,k,A)},[()=>({"current-day":d===(p.currentDay||7)-1}),()=>({"current-day":d===(p.currentDay||7)-1})],Me),T(f,v)});var l=m(s);se(l,5,()=>($(p),y(()=>[...p.schedule].reverse())),je,(f,c)=>{var d=ss(),v=Oe(d);se(v,1,()=>(i(c),y(()=>i(c).activities)),je,(x,w,k)=>{var P=ns();let A;var D=h(P),I=h(D),Z=m(D),B=h(Z),ee=m(Z),De=h(ee),Se=h(De),ue=m(ee);se(ue,1,()=>n,je,(ae,F,ke)=>{var j=ts(),O=Oe(j);let U;var q=h(O);{var ce=te=>{var H=es();H.__input=[Zr],L(()=>{qe(H,"max",(i(w),i(F),y(()=>i(w).days[i(F)].max<10?9:99))),H.readOnly=(i(c),y(()=>i(c).name==="TOTAL"))}),oe(H,()=>i(w).days[i(F)].value,fe=>(i(w).days[i(F)].value=fe,re(()=>(i(c),p)))),T(te,H)};Y(q,te=>{i(w),i(F),y(()=>i(w).days&&i(w).days[i(F)])&&te(ce)})}var G=m(O,2);let J;var ie=h(G);L((te,H)=>{U=Q(O,1,"dc",null,U,te),J=Q(G,1,"dc",null,J,H),N(ie,(i(w),i(F),y(()=>{var fe,K;return((K=(fe=i(w).days)==null?void 0:fe[i(F)])==null?void 0:K.max)||""})))},[()=>({"current-day":ke===(p.currentDay||7)-1}),()=>({"current-day":ke===(p.currentDay||7)-1})],Me),T(ae,j)});var me=m(ue),Fe=h(me),xe=m(me),Te=h(xe),Ee=m(xe);let $e;var Ce=h(Ee);{var Qe=ae=>{var F=as(),ke=h(F);L(()=>N(ke,(i(w),y(()=>i(w).streaks.current)))),T(ae,F)};Y(Ce,ae=>{i(w),y(()=>{var F;return((F=i(w).streaks)==null?void 0:F.current)>0})&&ae(Qe)})}L((ae,F,ke,j)=>{A=Q(P,1,"",null,A,ae),N(I,(i(c),y(()=>k===0?i(c).name:""))),N(B,F),N(Se,ke),wn(Fe,(i(w),y(()=>i(w).score))),N(Te,(i(w),y(()=>i(w).maxScore))),$e=Q(Ee,1,"dc cell cell--color",null,$e,j)},[()=>({total:i(c).name==="TOTAL"}),()=>(i(w),y(()=>i(w).name.includes(":")?i(w).name.split(":")[0]:"")),()=>(i(w),y(()=>i(w).name.includes(":")?i(w).name.split(":")[1].trim():i(w).name)),()=>{var ae,F;return{streak:((ae=i(w).streaks)==null?void 0:ae.current)>2,yellow:((F=i(w).streaks)==null?void 0:F.current)>2}}],Me),T(x,P)});var _=m(v,2);{var g=x=>{var w=rs();const k=Me(()=>(i(c),y(()=>i(c).activities[0]))),P=Me(()=>($(i(k)),y(()=>i(k).maxScore>0?Math.min(100,i(k).score/i(k).maxScore*100):0))),A=Me(()=>($(i(k)),y(()=>i(k).maxScore>0?i(k).score/i(k).maxScore<.33?"progress--low":i(k).score/i(k).maxScore<.66?"progress--medium":"progress--high":"")));var D=h(w),I=h(D);L(()=>{Q(I,1,`progress__bar ${i(A)??""}`),ta(I,`width: ${i(P)??""}%`)}),T(x,w)};Y(_,x=>{i(c),y(()=>{var w;return i(c).name==="TOTAL"&&((w=i(c).activities)==null?void 0:w.length)>0&&i(c).activities[0].maxScore>0})&&x(g)})}T(f,d)}),T(t,r),_e()}Je(["input"]);var os=()=>p.saveData(),us=()=>p.saveData(),cs=()=>p.saveData(),fs=C('<tr><td class="dc"> </td><td><select class="input"><option></option><option>A</option><option>B</option><option>C</option><option>D</option></select></td><td><input type="text" class="input input--text"/></td><td><select class="input"><option></option><option>Personal</option><option>Work</option></select></td><td><input type="text" class="input input--date"/></td><td><input type="text" class="input input--date"/></td><td><span> </span></td><td><input type="text" class="input input--date"/></td><td><input type="text" placeholder="â˜" readonly=""/></td></tr>'),ds=C('<div class="section"><h3 class="title">TASKS & PROJECT MANAGEMENT</h3> <table><thead><tr><th>#</th><th>â­</th><th>Task</th><th>ðŸ·ï¸</th><th class="icon-header">Start</th><th class="icon-header">Due</th><th class="icon-header">Delay</th><th class="icon-header">Done</th><th>âœ“</th></tr></thead><tbody></tbody></table></div>');function vs(t,e){he(e,!1);function a(u){const l=[];u.completed==="âœ“"&&l.push("green");const f=p.getTaskDelay(u);return f>0?l.push("red"):f<0&&l.push("blue"),l.join(" ")}function n(u){return u<0?"green":u>0?"red":"yellow"}Ne();var r=ds(),s=m(h(r),2),o=m(h(s));se(o,7,()=>($(p),y(()=>p.tasks)),(u,l)=>u.id||l,(u,l,f)=>{var c=fs(),d=h(c),v=h(d),_=m(d),g=h(_);L(()=>{i(l),re(()=>{})}),g.__change=[os];var x=h(g);x.value=x.__value="";var w=m(x);w.value=w.__value="A";var k=m(w);k.value=k.__value="B";var P=m(k);P.value=P.__value="C";var A=m(P);A.value=A.__value="D";var D=m(_),I=h(D);I.__change=[us];var Z=m(D),B=h(Z);L(()=>{i(l),re(()=>{})}),B.__change=[cs];var ee=h(B);ee.value=ee.__value="";var De=m(ee);De.value=De.__value="P";var Se=m(De);Se.value=Se.__value="W";var ue=m(Z),me=h(ue);me.__change=()=>{p.calculateTaskDelay(i(l)),p.saveData()};var Fe=m(ue),xe=h(Fe);xe.__change=()=>{p.calculateTaskDelay(i(l)),p.saveData()};var Te=m(Fe),Ee=h(Te),$e=h(Ee),Ce=m(Te),Qe=h(Ce);Qe.__change=()=>{p.calculateTaskDelay(i(l)),p.saveData()};var ae=m(Ce),F=h(ae);let ke;F.__click=j=>{j.preventDefault(),p.toggleTaskCompletion(i(l))},L((j,O,U,q)=>{Q(c,1,j),N(v,i(f)+1),Q(Te,1,`dc cell cell--bold ${O??""}`),N($e,U),ke=Q(F,1,"input",null,ke,q),wn(F,(i(l),y(()=>i(l).completed)))},[()=>$r((i(l),y(()=>a(i(l))))),()=>($(p),i(l),y(()=>n(p.getTaskDelay(i(l))))),()=>($(p),i(l),y(()=>p.formatDelay(p.getTaskDelay(i(l))))),()=>({"task-done":i(l).completed==="âœ“"})],Me),Fa(g,()=>i(l).priority,j=>(i(l).priority=j,re(()=>p))),oe(I,()=>i(l).description,j=>(i(l).description=j,re(()=>p))),Fa(B,()=>i(l).tag,j=>(i(l).tag=j,re(()=>p))),oe(me,()=>i(l).startDate,j=>(i(l).startDate=j,re(()=>p))),oe(xe,()=>i(l).expectedDate,j=>(i(l).expectedDate=j,re(()=>p))),oe(Qe,()=>i(l).actualDate,j=>(i(l).actualDate=j,re(()=>p))),T(u,c)}),T(t,r),_e()}Je(["change","click"]);var ps=()=>p.saveData(),hs=()=>p.saveData(),_s=()=>p.saveData(),ms=C('<div class="exercise"><div class="exercise-name"><span> </span> <span> </span>:</div> <div class="exercise-inputs"><input type="number" class="input"/> <span class="exercise-unit">kg,</span> <input type="number" class="input sets"/> <span class="exercise-unit">Ã—</span> <input type="number" class="input reps"/></div></div>'),gs=C('<div class="p-1 workout-day-card"><p class="bold text-center mb-1 workout-day-name"> </p> <!></div>'),ys=C('<div class="section"><h3 class="title">WORKOUT</h3> <div class="grid"></div></div>');function ws(t,e){he(e,!1),Ne();var a=ys(),n=m(h(a),2);se(n,5,()=>($(p),y(()=>p.workoutPlan)),r=>r.id,(r,s)=>{var o=gs(),u=h(o),l=h(u),f=m(u,2);se(f,1,()=>(i(s),y(()=>i(s).exercises)),c=>c.id,(c,d,v)=>{var _=ms(),g=h(_),x=h(g),w=h(x),k=m(x,2),P=h(k),A=m(g,2),D=h(A);D.__input=[ps];var I=m(D,4);I.__input=[hs];var Z=m(I,4);Z.__input=[_s],L(()=>{qe(g,"title",`${i(d),y(()=>i(d).prefix)??""}${i(d),y(()=>i(d).name)??""}`),N(w,(i(d),y(()=>i(d).prefix))),N(P,(i(d),y(()=>i(d).name))),qe(D,"placeholder",(i(d),y(()=>i(d).defaultWeight))),qe(I,"placeholder",(i(d),y(()=>i(d).defaultSets))),qe(Z,"placeholder",(i(d),y(()=>i(d).defaultReps)))}),oe(D,()=>i(d).weight,B=>(i(d).weight=B,re(()=>(i(s),p)))),oe(I,()=>i(d).sets,B=>(i(d).sets=B,re(()=>(i(s),p)))),oe(Z,()=>i(d).reps,B=>(i(d).reps=B,re(()=>(i(s),p)))),T(c,_)}),L(()=>N(l,(i(s),y(()=>i(s).name)))),T(r,o)}),T(t,a),_e()}Je(["input"]);var bs=C('<div class="mb-05"><span class="bold"> </span> <span> </span></div>'),Ss=C('<div class="section"><h3 class="title">MEALS</h3> <div class="text-xs"></div></div>');function xs(t,e){he(e,!1),Ne();var a=Ss(),n=m(h(a),2);se(n,5,()=>($(p),y(()=>p.meals)),r=>r.id,(r,s)=>{var o=bs(),u=h(o),l=h(u),f=m(u,2),c=h(f);L(()=>{N(l,`${i(s),y(()=>i(s).name)??""}:`),N(c,(i(s),y(()=>i(s).ingredients)))}),T(r,o)}),T(t,a),_e()}var ks=C('<div class="mb-05"><span class="bold"> </span> <span> </span></div>'),Ds=C('<div class="section"><h3 class="title">GROCERY</h3> <div class="text-xs"></div></div>');function Ts(t,e){he(e,!1),Ne();var a=Ds(),n=m(h(a),2);se(n,5,()=>($(p),y(()=>p.groceryList)),r=>r.id,(r,s)=>{var o=ks(),u=h(o),l=h(u),f=m(u,2),c=h(f);L(()=>{N(l,`${i(s),y(()=>i(s).name)??""}:`),N(c,(i(s),y(()=>i(s).items)))}),T(r,o)}),T(t,a),_e()}var Es=()=>p.saveData(),Cs=C('<span><span> </span> <input type="text" class="input input--inline"/> <!></span>'),Is=C('<div class="section"><h3 class="title">BODY</h3> <div class="text-xs"></div></div>');function Os(t,e){he(e,!1),Ne();var a=Is(),n=m(h(a),2);se(n,7,()=>($(p),y(()=>p.bodyMeasurements)),r=>r.id,(r,s,o)=>{var u=Cs(),l=h(u),f=h(l),c=m(l,2);c.__change=[Es];var d=m(c,2);{var v=_=>{var g=ea(",");T(_,g)};Y(d,_=>{$(i(o)),$(p),y(()=>i(o)<p.bodyMeasurements.length-1)&&_(v)})}L(()=>{N(f,`${i(s),y(()=>i(s).name)??""}:`),qe(c,"placeholder",(i(s),y(()=>i(s).placeholder)))}),oe(c,()=>i(s).value,_=>(i(s).value=_,re(()=>p))),T(r,u)}),T(t,a),_e()}Je(["change"]);var Ps=()=>p.saveData(),As=C('<span><span> </span> Â£<input type="text" class="input input--inline"/> <span> </span> <!></span>'),Ns=C('<div class="section"><h3 class="title">FINANCIAL</h3> <div class="text-xs"></div></div>');function $s(t,e){he(e,!1),Ne();var a=Ns(),n=m(h(a),2);se(n,7,()=>($(p),y(()=>p.financials)),r=>r.id,(r,s,o)=>{var u=As(),l=h(u),f=h(l),c=m(l,2);c.__change=[Ps];var d=m(c,2),v=h(d),_=m(d,2);{var g=x=>{var w=ea(",");T(x,w)};Y(_,x=>{$(i(o)),$(p),y(()=>i(o)<p.financials.length-1)&&x(g)})}L(()=>{N(f,`${i(s),y(()=>i(s).name)??""}:`),qe(c,"placeholder",(i(s),y(()=>i(s).placeholder))),N(v,(i(s),y(()=>i(s).account)))}),oe(c,()=>i(s).value,x=>(i(s).value=x,re(()=>p))),T(r,u)}),T(t,a),_e()}Je(["change"]);var Ms=C('<div id="sync-status"><span> </span></div>'),Ls=C('<div id="notification" class="notification notification--show"> </div>'),Ws=C('<div id="save-status"> </div> <!> <!>',1);function Rs(t,e){he(e,!1),Ne();var a=Ws(),n=Oe(a),r=h(n),s=m(n,2);{var o=f=>{var c=Ms(),d=h(c),v=h(d);L(()=>{Q(c,1,`status status--sync ${$(p),y(()=>p.pendingSync.length>0?"status-pending":"status-synced")??""}`),N(v,($(p),y(()=>p.isOnline?p.pendingSync.length>0?"Pending: "+p.pendingSync.length:"":"Offline")))}),T(f,c)};Y(s,f=>{$(p),y(()=>p.pendingSync.length>0||!p.isOnline)&&f(o)})}var u=m(s,2);{var l=f=>{var c=Ls(),d=h(c);L(()=>N(d,($(p),y(()=>p.notificationMessage)))),T(f,c)};Y(u,f=>{$(p),y(()=>p.showNotification)&&f(l)})}L(()=>{Q(n,1,`status status--save status-${$(p),y(()=>p.saveStatus)??""}`),N(r,($(p),y(()=>p.saveStatus==="saving"?"Saving...":p.saveStatus==="error"?"Error!":"Saved")))}),T(t,a),_e()}var Fs=(t,e)=>p.selectCity(i(e)),Us=C('<div class="dropdown__item"> </div>'),Bs=C('<div class="dropdown-portal"><div class="dropdown__content"></div></div>'),js=(t,e)=>p.confirmLoadWeek(i(e).iso_week),qs=(t,e)=>p.confirmDeleteWeek(i(e).iso_week),zs=C('<div><span> </span> <span class="dropdown__delete">Ã—</span></div>'),Ys=C('<div class="dropdown__item--empty">No saved schedules</div>'),Js=C('<div class="dropdown-portal"><div class="dropdown__content"><!></div></div>'),Hs=C("<!> <!>",1);function Vs(t,e){he(e,!1),Ne();var a=Hs(),n=Oe(a);{var r=u=>{var l=Bs(),f=h(l);se(f,5,()=>($(p),y(()=>p.cityOptions)),je,(c,d)=>{var v=Us();v.__click=[Fs,d];var _=h(v);L(()=>N(_,(i(d),y(()=>i(d).name)))),T(c,v)}),L(()=>ta(l,($(p),y(()=>p.cityDropdownStyle)))),T(u,l)};Y(n,u=>{$(p),y(()=>p.showCitySelector)&&u(r)})}var s=m(n,2);{var o=u=>{var l=Js(),f=h(l),c=h(f);{var d=_=>{var g=Dr(),x=Oe(g);se(x,1,()=>($(p),y(()=>p.savedWeeks)),je,(w,k)=>{var P=zs();let A;var D=h(P);D.__click=[js,k];var I=h(D),Z=m(D,2);Z.__click=[qs,k],L(B=>{A=Q(P,1,"flex between center dropdown__item",null,A,B),N(I,`${i(k),y(()=>i(k).iso_week)??""} ${i(k),y(()=>i(k).dateRange)??""}`)},[()=>({"dropdown__item--current":i(k).isCurrent})],Me),T(w,P)}),T(_,g)},v=_=>{var g=Ys();T(_,g)};Y(c,_=>{$(p),y(()=>p.savedWeeks.length>0)?_(d):_(v,!1)})}L(()=>ta(l,($(p),y(()=>p.weekDropdownStyle)))),T(u,l)};Y(s,u=>{$(p),y(()=>p.showWeekSelector)&&u(o)})}T(t,a),_e()}Je(["click"]);async function Ks(t,e,a,n,r){b(e,!0),b(a,"");try{(await fetch(`${i(n)}/api/health`)).ok?(b(a,"success"),b(r,2)):b(a,"error")}catch{b(a,"error")}finally{b(e,!1)}}var Gs=(t,e)=>t.target===t.currentTarget&&e(),Qs=C('<div><span class="setup-step-num svelte-1gw615y"> </span> <span class="setup-step-name text-xs svelte-1gw615y"> </span></div>'),Xs=C('<span class="text-xs ml-1 green svelte-1gw615y">âœ“ Connected</span>'),Zs=C('<span class="text-xs ml-1 red svelte-1gw615y">âœ— Connection failed</span>'),ei=C('<div class="setup-section svelte-1gw615y"><h2 class="svelte-1gw615y">Step 1: PocketBase URL</h2> <p class="text-xs mb-05 svelte-1gw615y">Enter your PocketBase server URL</p> <input type="url" class="input input--text" placeholder="http://localhost:8090"/> <div class="flex center mt-1 svelte-1gw615y"><button> </button> <!></div></div>'),ti=(t,e)=>b(e,!i(e)),ai=C('<div class="setup-section svelte-1gw615y"><h2 class="svelte-1gw615y">Step 2: Admin Credentials</h2> <p class="text-xs mb-05 svelte-1gw615y">Enter your PocketBase admin credentials</p> <div class="mb-05 svelte-1gw615y"><input type="email" class="input input--text" placeholder="admin@example.com"/></div> <div class="mb-05 svelte-1gw615y" style="position: relative;"><input class="input input--text" placeholder="Password"/> <button class="setup-pass-toggle svelte-1gw615y"> </button></div> <button> </button></div>'),ni=C('<div class="setup-section svelte-1gw615y"><h2 class="svelte-1gw615y">Step 3: Create Collections</h2> <p class="text-xs mb-05 svelte-1gw615y">Create required database collections</p> <div class="setup-collections svelte-1gw615y"><div class="text-xs mb-05 svelte-1gw615y">â€¢ templates - Store planner templates</div> <div class="text-xs mb-05 svelte-1gw615y">â€¢ planners - Store weekly planner data</div></div> <button> </button></div>'),ri=C('<div class="progress mb-05 svelte-1gw615y"><div class="progress__bar progress--high"></div></div> <p class="text-xs"> </p>',1),si=C('<div class="text-xs mb-05 svelte-1gw615y"><!> Default template</div> <button>Seed Database</button>',1),ii=C('<div class="setup-section svelte-1gw615y"><h2 class="svelte-1gw615y">Step 4: Seed Database</h2> <p class="text-xs mb-05 svelte-1gw615y">Initialize database with default template</p> <!></div>'),li=C('<div class="setup-section svelte-1gw615y"><h2 class="svelte-1gw615y">âœ“ Setup Complete!</h2> <p class="text-xs mb-05 svelte-1gw615y">Your A4 Planner database is ready to use.</p> <button class="svelte-1gw615y">Start Using Planner</button></div>'),oi=C('<div class="setup-modal-overlay svelte-1gw615y"><div class="setup-modal-content svelte-1gw615y"><div class="setup-container svelte-1gw615y"><div class="flex between center mb-1 svelte-1gw615y"><h1 class="text-sm bold">A4 Planner - Database Setup</h1> <button class="clickable svelte-1gw615y">Ã—</button></div> <div class="setup-steps svelte-1gw615y"><div class="flex center mb-1 svelte-1gw615y"></div></div> <!> <!> <!> <!> <!> <div class="setup-help mt-1 svelte-1gw615y"><details class="svelte-1gw615y"><summary class="text-xs bold svelte-1gw615y">Help & Documentation</summary> <div class="text-xs mt-05 svelte-1gw615y"><h3 class="bold mb-05 svelte-1gw615y">Prerequisites:</h3> <p class="mb-05 svelte-1gw615y">1. PocketBase server running and accessible</p> <p class="mb-05 svelte-1gw615y">2. Admin account created in PocketBase</p> <h3 class="bold mb-05 mt-1 svelte-1gw615y">Setup Steps:</h3> <p class="mb-05 svelte-1gw615y">1. <b>PocketBase URL:</b> Enter the URL where your PocketBase is running (e.g., http://localhost:8090)</p> <p class="mb-05 svelte-1gw615y">2. <b>Admin Credentials:</b> Use your PocketBase admin email and password</p> <p class="mb-05 svelte-1gw615y">3. <b>Create Collections:</b> This creates the database structure</p> <p class="mb-05 svelte-1gw615y">4. <b>Seed Database:</b> Adds the default template</p> <h3 class="bold mb-05 mt-1 svelte-1gw615y">Troubleshooting:</h3> <p class="mb-05 svelte-1gw615y">â€¢ <b>Connection failed:</b> Check if PocketBase is running and the URL is correct</p> <p class="mb-05 svelte-1gw615y">â€¢ <b>Authentication failed:</b> Verify your admin credentials</p> <p class="mb-05 svelte-1gw615y">â€¢ <b>Collection exists:</b> Collections may already be created</p></div></details></div></div></div></div>');function ui(t,e){he(e,!0);let a=E(V(window.location.origin)),n=E("admin@example.com"),r=E(""),s=E(!1),o=E(1),u=E(""),l=E(!1),f=E(!1),c=E(!1),d=E(0),v=E(""),_=V({templates:!1,planners:!1});const g=[{num:1,name:"PocketBase URL"},{num:2,name:"Admin Credentials"},{num:3,name:"Create Collections"},{num:4,name:"Seed Database"},{num:5,name:"Complete"}];function x(){p.showSetupModal=!1;const O=document.querySelector(".setup-notification");O&&O.remove()}async function w(){b(l,!0);try{p.pb.baseURL=i(a),await p.pb.admins.authWithPassword(i(n),i(r)),b(o,3)}catch(O){alert("Authentication failed: "+O.message)}finally{b(l,!1)}}async function k(){b(l,!0);try{try{await p.pb.collections.getOne("templates")}catch(O){O.status===404&&await p.pb.collections.create(D())}try{await p.pb.collections.getOne("planners")}catch(O){O.status===404&&await p.pb.collections.create(I())}b(o,4)}catch(O){alert("Failed to create collections: "+O.message)}finally{b(l,!1)}}async function P(){b(c,!0),b(d,0);try{b(v,"Seeding templates..."),b(d,33),(await p.pb.collection("templates").getFullList()).length===0&&(await p.pb.collection("templates").create(Z()),_.templates=!0),b(d,66),b(v,"Database seeded successfully"),b(o,5),b(d,100)}catch(O){alert("Failed to seed database: "+O.message),b(v,"Error: "+O.message)}finally{b(c,!1)}}async function A(){x(),await p.init()}function D(){return{name:"templates",type:"base",schema:[{name:"name",type:"text",required:!0,options:{min:1,max:50}},{name:"is_default",type:"bool"},{name:"structure",type:"json",required:!0}],indexes:["CREATE UNIQUE INDEX idx_templates_name ON templates (name)"]}}function I(){return{name:"planners",type:"base",schema:[{name:"week_id",type:"text",required:!0,options:{min:8,max:8,pattern:"^\\d{4}-W(0[1-9]|[1-4]\\d|5[0-3])$"}},{name:"template_id",type:"relation",required:!0,options:{collectionId:"templates",cascadeDelete:!1,maxSelect:1}},{name:"title",type:"text",options:{max:100}},{name:"city",type:"text",options:{max:50}},{name:"date_range",type:"text",options:{max:20}},{name:"prayer_times",type:"json"},{name:"schedule_data",type:"json"},{name:"tasks_data",type:"json"},{name:"workout_data",type:"json"},{name:"meals_data",type:"json"},{name:"grocery_data",type:"json"},{name:"measurements_data",type:"json"},{name:"financials_data",type:"json"}],indexes:["CREATE UNIQUE INDEX idx_planners_week ON planners (week_id)"]}}function Z(){return{name:"default",is_default:!0,structure:{title_default:"Weekly Planner",city_default:"London",prayer_times:[{label:"Q",value:""},{label:"F",value:""},{label:"D",value:""},{label:"A",value:""},{label:"M",value:""},{label:"I",value:""}],schedule:[{name:"HABITS",activities:[{name:"Q: Quran",max_per_day:5,max_score:35},{name:"P: Prayer",max_per_day:5,max_score:35},{name:"E: Exercise",max_per_day:1,max_score:7},{name:"R: Read",max_per_day:1,max_score:7},{name:"L: Learn",max_per_day:1,max_score:7}]},{name:"TOTAL",activities:[{name:"DAILY POINTS",max_per_day:0,max_score:0}]}],tasks:{count:15,fields:["num","priority","tag","description","start_date","expected_date","actual_date","completed"]},workout:[{name:"PUSH",exercises:[{name:"Bench Press",default_weight:60,default_sets:4,default_reps:8},{name:"Shoulder Press",default_weight:40,default_sets:3,default_reps:10},{name:"Dips",default_weight:0,default_sets:3,default_reps:12}]},{name:"PULL",exercises:[{name:"Deadlift",default_weight:80,default_sets:4,default_reps:6},{name:"Pull-ups",default_weight:0,default_sets:3,default_reps:10},{name:"Rows",default_weight:50,default_sets:3,default_reps:12}]},{name:"LEGS",exercises:[{name:"Squats",default_weight:70,default_sets:4,default_reps:8},{name:"Lunges",default_weight:30,default_sets:3,default_reps:12},{name:"Calf Raises",default_weight:40,default_sets:3,default_reps:15}]}],meals:[{name:"Breakfast",ingredients:""},{name:"Lunch",ingredients:""},{name:"Dinner",ingredients:""},{name:"Snacks",ingredients:""}],grocery:{categories:[{name:"Proteins",items:""},{name:"Vegetables",items:""},{name:"Fruits",items:""},{name:"Dairy",items:""},{name:"Grains",items:""},{name:"Others",items:""}]},measurements:[{name:"Weight",placeholder:"kg"},{name:"Waist",placeholder:"cm"},{name:"Chest",placeholder:"cm"},{name:"Arms",placeholder:"cm"}],financials:[{name:"Income",placeholder:"0",account:""},{name:"Expenses",placeholder:"0",account:""},{name:"Savings",placeholder:"0",account:""},{name:"Investments",placeholder:"0",account:""}]}}}var B=oi();B.__click=[Gs,x];var ee=h(B),De=h(ee),Se=h(De),ue=m(h(Se),2);ue.__click=x;var me=m(Se,2),Fe=h(me);se(Fe,21,()=>g,je,(O,U)=>{var q=Qs();let ce;var G=h(q),J=h(G),ie=m(G,2),te=h(ie);L(H=>{ce=Q(q,1,"setup-step svelte-1gw615y",null,ce,H),N(J,i(U).num),N(te,i(U).name)},[()=>({active:i(o)>=i(U).num})]),T(O,q)});var xe=m(me,2);{var Te=O=>{var U=ei(),q=m(h(U),4),ce=m(q,2),G=h(ce);G.__click=[Ks,f,u,a,o];let J;var ie=h(G),te=m(G,2);{var H=K=>{var de=Xs();T(K,de)},fe=(K,de)=>{{var Bt=ge=>{var at=Zs();T(ge,at)};Y(K,ge=>{i(u)==="error"&&ge(Bt)},de)}};Y(te,K=>{i(u)==="success"?K(H):K(fe,!1)})}L(K=>{G.disabled=i(f)||!i(a),J=Q(G,1,"svelte-1gw615y",null,J,K),N(ie,i(f)?"Testing...":"Test Connection")},[()=>({"setup-disabled":i(f)||!i(a)})]),oe(q,()=>i(a),K=>b(a,K)),T(O,U)};Y(xe,O=>{i(o)===1&&O(Te)})}var Ee=m(xe,2);{var $e=O=>{var U=ai(),q=m(h(U),4),ce=h(q),G=m(q,2),J=h(G),ie=m(J,2);ie.__click=[ti,s];var te=h(ie),H=m(G,2);H.__click=w;let fe;var K=h(H);L(de=>{qe(J,"type",i(s)?"text":"password"),N(te,i(s)?"Hide":"Show"),H.disabled=i(l)||!i(n)||!i(r),fe=Q(H,1,"svelte-1gw615y",null,fe,de),N(K,i(l)?"Authenticating...":"Authenticate")},[()=>({"setup-disabled":i(l)||!i(n)||!i(r)})]),oe(ce,()=>i(n),de=>b(n,de)),oe(J,()=>i(r),de=>b(r,de)),T(O,U)};Y(Ee,O=>{i(o)===2&&O($e)})}var Ce=m(Ee,2);{var Qe=O=>{var U=ni(),q=m(h(U),6);q.__click=k;let ce;var G=h(q);L(J=>{q.disabled=i(l),ce=Q(q,1,"svelte-1gw615y",null,ce,J),N(G,i(l)?"Creating...":"Create Collections")},[()=>({"setup-disabled":i(l)})]),T(O,U)};Y(Ce,O=>{i(o)===3&&O(Qe)})}var ae=m(Ce,2);{var F=O=>{var U=ii(),q=m(h(U),4);{var ce=J=>{var ie=ri(),te=Oe(ie),H=h(te),fe=m(te,2),K=h(fe);L(()=>{ta(H,`width: ${i(d)??""}%`),N(K,i(v))}),T(J,ie)},G=J=>{var ie=si(),te=Oe(ie),H=h(te);{var fe=ge=>{var at=ea("âœ“");T(ge,at)},K=ge=>{var at=ea("â€¢");T(ge,at)};Y(H,ge=>{_.templates?ge(fe):ge(K,!1)})}var de=m(te,2);de.__click=P;let Bt;L(ge=>{de.disabled=i(c),Bt=Q(de,1,"svelte-1gw615y",null,Bt,ge)},[()=>({"setup-disabled":i(c)})]),T(J,ie)};Y(q,J=>{i(c)?J(ce):J(G,!1)})}T(O,U)};Y(ae,O=>{i(o)===4&&O(F)})}var ke=m(ae,2);{var j=O=>{var U=li(),q=m(h(U),4);q.__click=A,T(O,U)};Y(ke,O=>{i(o)===5&&O(j)})}T(t,B),_e()}Je(["click"]);var ci=C('<div class="viewport-container"><div class="card"><!> <!> <!> <!> <!> <!> <!> <!></div></div> <!>',1),fi=C("<!> <!> <!>",1);function di(t,e){he(e,!0);let a=E(!1);Jt(()=>{b(a,p.showSetupModal,!0),console.log("App.svelte: showSetupModal changed to",i(a))}),Br(()=>{p.init()});var n=fi(),r=Oe(n);Rs(r,{});var s=m(r,2);{var o=c=>{var d=ci(),v=Oe(d),_=h(v),g=h(_);Qr(g,{});var x=m(g,2);ls(x,{});var w=m(x,2);vs(w,{});var k=m(w,2);ws(k,{});var P=m(k,2);xs(P,{});var A=m(P,2);Ts(A,{});var D=m(A,2);Os(D,{});var I=m(D,2);$s(I,{});var Z=m(v,2);Vs(Z,{}),T(c,d)};Y(s,c=>{p.isInitializing||c(o)})}var u=m(s,2);{var l=c=>{ui(c,{})},f=c=>{};Y(u,c=>{i(a)?c(l):c(f,!1)})}T(t,n),_e()}Tr(di,{target:document.getElementById("app")});
