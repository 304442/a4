<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal PocketBase Setup</title>
    <script src="https://unpkg.com/pocketbase@latest/dist/pocketbase.umd.js"></script>
    <style>
        *{margin:0;padding:0;box-sizing:border-box;}
        body{font-family:monospace;font-size:11px;line-height:1.1;padding:4px;background:#f9f9f9;color:#333;}
        .c{max-width:1400px;background:white;padding:6px;border-radius:2px;box-shadow:0 1px 3px rgba(0,0,0,0.1);}
        h1{font-size:14px;font-weight:600;margin-bottom:4px;border-bottom:1px solid #ddd;padding-bottom:2px;}
        h2{font-size:12px;font-weight:500;margin:6px 0 3px 0;color:#555;}
        button{padding:3px 6px;background:#007bff;color:white;border:0;border-radius:2px;cursor:pointer;font-size:10px;margin:1px;}
        button:disabled{background:#ccc;} button:hover:not(:disabled){background:#0056b3;}
        button.danger{background:#dc3545;} button.export{background:#17a2b8;} button.reset{background:#6c757d;}
        #togglePass{background:#f8f9fa !important;color:#333 !important;border:1px solid #ddd !important;z-index:10;}
        #togglePass:hover{background:#e9ecef !important;}
        .row{display:flex;gap:4px;margin:3px 0;} .col{flex:1;}
        .editor{width:100%;min-height:150px;font-family:monospace;font-size:10px;border:1px solid #ccc;border-radius:2px;padding:3px;resize:vertical;}
        .editor:focus{outline:none;border-color:#007bff;}
        input{width:100%;padding:2px;border:1px solid #ccc;border-radius:2px;font-size:10px;}
        input:focus{outline:none;border-color:#007bff;}
        #pass{padding-right:25px;}
        label{display:block;font-weight:500;font-size:9px;margin-bottom:1px;}
        .status{padding:2px 4px;border-radius:2px;font-size:9px;margin-top:2px;}
        .valid{background:#d4edda;color:#155724;} .invalid{background:#f8d7da;color:#721c24;} .warning{background:#fff3cd;color:#856404;}
        .stats{display:flex;gap:8px;padding:3px;background:#e9ecef;border-radius:2px;margin:3px 0;font-size:9px;}
        .stat{text-align:center;} .stat-val{font-weight:bold;font-size:11px;display:block;}
        #out{margin-top:4px;padding:3px;background:#222;color:#eee;border-radius:2px;font-family:monospace;font-size:8px;max-height:200px;overflow-y:auto;}
        .le{color:#ff6b6b;} .ls{color:#51cf66;} .lw{color:#ffd43b;} .li{color:#74c0fc;}
        .progress{width:100%;height:2px;background:#e9ecef;border-radius:1px;margin:2px 0;} .progress-fill{height:100%;background:#007bff;transition:width 0.3s;}
    </style>
</head>
<body>
    <div class="c">
        <h1>🚀 Universal PocketBase Setup</h1>
        <div class="stats">
            <div class="stat"><span class="stat-val" id="collCount">0</span>Collections</div>
            <div class="stat"><span class="stat-val" id="fieldCount">0</span>Fields</div>
            <div class="stat"><span class="stat-val" id="seedCount">0</span>Seeds</div>
            <div class="stat"><span class="stat-val" id="healthStat">❓</span>Health</div>
        </div>
        <div class="progress"><div class="progress-fill" id="progress" style="width:0%"></div></div>
        <div class="row">
            <div class="col">
                <label for="url">PocketBase URL:</label>
                <input id="url" value="/">
            </div>
            <div class="col">
                <label for="email">Admin Email:</label>
                <input id="email" value="admin@example.com">
            </div>
            <div class="col">
                <label for="pass">Password:</label>
                <div style="position:relative;">
                    <input id="pass" type="password" value="unifiedpassword">
                    <button type="button" id="togglePass" title="Show password" style="position:absolute;right:2px;top:1px;padding:1px 4px;font-size:8px;">👁️</button>
                </div>
            </div>
        </div>
        <div class="row">
            <button id="health">🔍 Test Connection</button>
            <button id="setup" disabled>🚀 Full Setup</button>
            <button id="schema" disabled>📋 Schema Only</button>
            <button id="seed" disabled>🌱 Seed Only</button>
            <button id="validate" disabled>✅ Validate</button>
            <button id="reset" class="danger">🗑️ Reset</button>
            <button id="export" class="export">💾 Export</button>
            <button id="import">📁 Import</button>
            <button id="help">📚 Help & Docs</button>
        </div>
        <div class="row">
            <div class="col">
                <h2>📋 Collections Schema</h2>
                <textarea id="collections" class="editor"></textarea>
                <div class="status" id="collStatus">Ready for validation</div>
            </div>
            <div class="col">
                <h2>🌱 Seed Data</h2>
                <textarea id="seeds" class="editor
